{% extends "base.html" %}
{% block title %}Integrations{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">Integrations Hub</h1>
        <p class="page-subtitle">Connect your tools to power Renata's intelligence</p>
    </div>
</div>

{% if request.query_params.get('msg') %}
<div class="alert alert-success">{{ request.query_params.get('msg') }}</div>
{% endif %}

<div class="integrations-grid">
    <!-- Google Calendar -->
    <div class="integration-card connected">
        <div class="int-icon-wrap">
            <div class="int-icon-letter" style="background:#4285f4">G</div>
        </div>
        <div class="int-info">
            <div class="int-name">Google Calendar</div>
            <div class="int-desc">Auto-detect and join scheduled meetings</div>
        </div>
        <div class="integration-actions">
            <div class="int-status status-connected">Connected</div>
            <a href="https://calendar.google.com" target="_blank" class="btn btn-sm btn-ghost">Open Calendar</a>
        </div>
    </div>

    <!-- Gmail -->
    <div class="integration-card connected">
        <div class="int-icon-wrap">
            <div class="int-icon-letter" style="background:#ea4335">M</div>
        </div>
        <div class="int-info">
            <div class="int-name">Gmail</div>
            <div class="int-desc">Scan emails for meeting links and follow-ups</div>
        </div>
        <div class="integration-actions">
            <div class="int-status status-connected">Connected</div>
            <a href="https://mail.google.com" target="_blank" class="btn btn-sm btn-ghost">Open Gmail</a>
        </div>
    </div>

    <!-- Zoom -->
    <div class="integration-card {% if profile.zoom_token %}connected{% endif %}">
        <div class="int-icon-wrap">
            <div class="int-icon-letter" style="background:#2d8cff">Z</div>
        </div>
        <div class="int-info">
            <div class="int-name">Zoom</div>
            <div class="int-desc">List and manage meetings directly from Zoom</div>
        </div>
        <div class="integration-actions">
            {% if profile.zoom_token %}
            <div class="int-status status-connected">Connected</div>
            <a href="https://zoom.us/meeting" target="_blank" class="btn btn-sm btn-ghost">Open Zoom</a>
            {% else %}
            <div class="int-status status-disconnected">Not Connected</div>
            <a href="/auth/zoom" class="btn btn-sm btn-primary">Connect Account</a>
            {% endif %}
        </div>
    </div>

    <!-- Google Drive -->
    <div class="integration-card connected">
        <div class="int-icon-wrap">
            <div class="int-icon-letter" style="background:#0f9d58">D</div>
        </div>
        <div class="int-info">
            <div class="int-name">Google Drive</div>
            <div class="int-desc">Search documents for meeting context</div>
        </div>
        <div class="integration-actions">
            <div class="int-status status-connected">Connected</div>
            <a href="https://drive.google.com" target="_blank" class="btn btn-sm btn-ghost">Open Drive</a>
        </div>
    </div>
</div>
{% endblock %}